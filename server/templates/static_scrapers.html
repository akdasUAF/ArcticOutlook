{% extends 'base.html' %}

{% block head %}

    <title>Static Scrapers</title>
    
{% endblock %}

{% block body %}
<a class="return" href="{{ url_for('index') }}">Return to Main Page</a>
<div ID="scriptselection">
    <h3> Script Selection </h3>
    <p>Please select a script to run.</p>
    <form method="POST" enctype=multipart/form-data>
        <select id="SelectScript" name="SelectScript">
            <option value="Operators" {% if val== "Operators" %} selected {% endif %}>Operators Spider</option>
            <option value="Systems" {% if val== "Systems" %} selected {% endif %}>Systems Spider</option>
            <option value="Community_Profiles"{% if val== "Community_Profiles" %} selected {% endif %}>Community Profiles</option>
        </select>
        <br/>
        <input type="submit" value="Submit" name="script"/>
    </form>
</div>

{% if operation == True %}
<div ID="mongodb">
    <h3>Please input the following MongoDB information:</h3>
    <p>This information can be found in your MongoDB Database.<br/>The connection string, or URI, is what allows the script
    to input the information into the database.<br/>The Database name is the name of your primary Database.<br/>The 
    Collection(s) name refers to the Collection/Table within the Database in which you wish to store the information.</p>
    <form method="POST" ID="mongoDB">
        <label for="download">Download as CSV?</label>
        <input type="checkbox" id="download" name="download" value="download">
        <div class="row">
            <label for="Connection">Connection String (Example: mongodb+srv://<username>:<password>@beyondthebasics.abcde.mongodb.net/test)</label>
            <input name="Connection" type="text" value={{default[0]}}>
        </div>

        <div class="row">
            <label for="Database">Database Name (Example: Outlook)</label>
            <input name="Database" type="text" value={{default[1]}}>
        </div>

        {% if val == "Operators" %}
        <div class="row">
            <label for="Operators">Operators Collection Name (Example: Operators)</label>
            <input name="Operators" type="text" value={{default[2]}}>
        </div>
        <br/>
        <input type="submit" value="Submit" name="op"/>
        {% endif %}

        {% if val == "Systems" %}
        <div class="row">
            <label for="Systems">Systems Collection Name (Example: Systems)</label>
            <input name="Systems" type="text" value={{default[2]}}>
        </div>

        <div class="row">
            <label for="SContact">Systems Contact Collection Name (Example: SystemContacts)</label>
            <input name="SContact" type="text" value={{default[3]}}>
        </div>
        <br/>
        <input type="submit" value="Submit" name="sys"/>
        {% endif %}

        {% if val == "Community_Profiles" %}
        <div class="row">
            <label for="Community">Community Collection Name (Example: Community)</label>
            <input name="Community" type="text" value={{default[2]}}>
        </div>

        <div class="row">
            <label for="CContact">Community Contact Collection Name (Example: Contacts)</label>
            <input name="CContact" type="text" value={{default[3]}}>
        </div>
        <br/>
        <input type="submit" value="Submit" name="cc"/>
        {% endif %}
    </form>
</div>
{% endif %}
{% if operation == False %}
<br/>
<p>{{msg}}</p>

{% endif %}
{% endblock %}